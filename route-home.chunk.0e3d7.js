webpackJsonp([0],{"/nP0":function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r("KM04");t.default=function(e){function t(){return o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.text,r=e.graphicSize,o=e.textSize,a=e.textColor,c=n(e,["text","graphicSize","textSize","textColor"]),s=c.class||"",l={width:r?r+"px":size?size-20+"px":"128px",height:r?r+"px":size?size-20+"px":"128px"},p={color:a||"black",fontSize:o||"0.8rem"};return delete c.class,(0,u.h)("button",i({class:"btn-approve "+s},c),(0,u.h)("div",{class:"graphic center-h",style:l}),(0,u.h)("div",{class:"text",style:p},t||c.children))}}]),t}(u.Component)},Hd3W:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={cache:"no-cache",headers:{"user-agent":"NotSoRare/1.0 Pepe","content-type":"application/json"},method:"GET",mode:"cors",redirect:"follow",referrer:"no-referrer"};t.FETCH_OPTS=r,t.default=r},hnt0:function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchLocationByZipCode=void 0;var o=r("Hd3W"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=function(e){return"https://nominatim.openstreetmap.org/search?format=json&postalcode="+e};t.fetchLocationByZipCode=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={data:null,error:!1},n=null,o=i(t),e.prev=3,e.next=6,fetch(o,a.default);case 6:if(n=e.sent,200===n.status){e.next=9;break}throw new Error("Server responded with a non-200 status");case 9:return e.next=11,n.json();case 11:r.data=e.sent,r.data=r.data.filter(function(e){return e.display_name.includes("United States of America")}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),console.error("Failed to fetch demographics "+JSON.stringify(n),e.t0),r.error=e.t0;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e,void 0,[[3,15]])}));return function(){return e.apply(this,arguments)}}()},"iOg+":function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}return n("next")})}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r("KM04"),u=r("/QC5"),s=r("hnt0"),l=r("/nP0"),p=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=function(e){function t(){for(var e,r,a,i,c=this,l=arguments.length,p=Array(l),f=0;f<l;f++)p[f]=arguments[f];return r=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),a.state={zipCode:""},a.re=/^[0-9\b]+$/,a.onZipCodeKeyDown=function(e){"Backspace"===e.key||"Backspace"===e.code||8===e.keyCode||a.re.test(e.key)&&a.state.zipCode.length<5||e.preventDefault()},a.onZipCodeChange=function(e){var t=a.re.test(e.target.value)&&e.target.value.length<=5;(""===e.target.value||t)&&a.setState({zipCode:e.target.value})},a.queryZipCode=n(regeneratorRuntime.mark(function e(){var t,r,n,o,i,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=a.state.zipCode)&&a.re.test(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,s.fetchLocationByZipCode)(t);case 5:if(r=e.sent,n=r.data,o=r.error,!o&&n.length){e.next=9;break}return e.abrupt("return",alert("@todo Handle error\n"+JSON.stringify({data:n,error:o},null,4)));case 9:i=n[0],l=i.lat,p=i.lon,(0,u.route)("/demographics/"+l+"/"+p);case 11:case"end":return e.stop()}},e,c)})),i=r,o(a,i)}return a(t,e),i(t,[{key:"render",value:function(e,t){return(0,c.h)("div",{class:"home center-h text-center"},(0,c.h)("div",{class:"row"},(0,c.h)("div",{class:"col"},(0,c.h)("header",null,(0,c.h)("h1",null,"Zip Code, Please!")))),(0,c.h)("div",{class:"row mb-4"},(0,c.h)("div",{class:"col"},(0,c.h)("input",{class:"input-materialish text-center mt-5",style:{maxWidth:"12rem"},type:"text",pattern:"[0-9]{5}",value:t.zipCode,placeholder:"12345",max:99999,onKeyDown:this.onZipCodeKeyDown,onChange:this.onZipCodeChange}))),(0,c.h)("div",{class:"row mt-7"},(0,c.h)("div",{class:"col"},(0,c.h)(p.default,{size:180,graphicSize:120,text:"CHECK MY PRIVILEGE",textSize:"0.9rem",textColor:"#519001",onClick:this.queryZipCode}))))}}]),t}(c.Component)}});
//# sourceMappingURL=route-home.chunk.0e3d7.js.map