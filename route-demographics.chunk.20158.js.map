{"version":3,"sources":["webpack:///route-demographics.chunk.20158.js","webpack:///./services/fetch-opts.js","webpack:///./routes/demographics/index.js","webpack:///./services/justicemap.js"],"names":["webpackJsonp","Hd3W","module","exports","Object","defineProperty","value","FETCH_OPTS","cache","headers","user-agent","content-type","method","mode","redirect","referrer","default","Ok8v","__webpack_require__","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","error","done","then","err","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_extends","assign","target","i","length","source","hasOwnProperty","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_preact","_preactRouter","_justicemap","_Component","Demographics","_ref","_temp","_this","_ret","_this2","_len","args","Array","_key","getPrototypeOf","concat","state","loading","demographics","colors","white","asian","hispanic","indian","island","black","multi","getDemographics","regeneratorRuntime","mark","_callee","res","data","wrap","_context","prev","next","setState","fetchDemographics","lat","lon","sent","console","abrupt","alert","stop","renderEmpty","title","subtitle","content","h","class","onClick","route","renderLoading","getBarStyle","width","renderDemo","style","toUpperCase","beckyIsShocked","parseInt","renderContent","window","location","href","includes","pop","income","density","income_change","income_block","sClient","iExit","Component","Uegq","undefined","_fetchOpts","_fetchOpts2","obj","__esModule","buildUrl","BASE_URL","result","url","_res","fetch","status","Error","json","t0"],"mappings":"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","file":"route-demographics.chunk.20158.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"Hd3W\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar FETCH_OPTS = {\n  cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n  headers: {\n    'user-agent': 'NotSoRare/1.0 Pepe',\n    'content-type': 'application/json'\n  },\n  method: 'GET', // *GET, POST, PUT, DELETE, etc.\n  mode: 'cors', // no-cors, cors, *same-origin\n  redirect: 'follow', // *manual, follow, error\n  referrer: 'no-referrer' // *client, no-referrer\n};\n\nexports.FETCH_OPTS = FETCH_OPTS;\nexports.default = FETCH_OPTS;\n\n/***/ }),\n\n/***/ \"Ok8v\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(\"KM04\");\n\nvar _preactRouter = __webpack_require__(\"/QC5\");\n\nvar _justicemap = __webpack_require__(\"Uegq\");\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Demographics = function (_Component) {\n    _inherits(Demographics, _Component);\n\n    function Demographics() {\n        var _ref,\n            _this2 = this;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Demographics);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Demographics.__proto__ || Object.getPrototypeOf(Demographics)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n            loading: false,\n            demographics: {}\n        }, _this.colors = {\n            white: '#f9f1e9',\n            asian: '#ffdebb',\n            hispanic: '#b08558',\n            indian: '#8b6035',\n            island: '#704920',\n            black: '#0b0702',\n            multi: '#efbbff'\n        }, _this.getDemographics = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n            var res, data, error;\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n\n                            _this.setState(_extends({}, _this.state, { loading: true }));\n\n                            _context.next = 3;\n                            return (0, _justicemap.fetchDemographics)(_this.props.lat, _this.props.lon);\n\n                        case 3:\n                            res = _context.sent;\n                            data = res.data, error = res.error;\n\n                            if (!error) {\n                                _context.next = 8;\n                                break;\n                            }\n\n                            // @todo\n                            console.error('Failed to fetch demographics', error);\n                            return _context.abrupt('return', alert('Error fetching demographics'));\n\n                        case 8:\n\n                            _this.setState(_extends({}, _this.state, { loading: false, demographics: data }));\n\n                        case 9:\n                        case 'end':\n                            return _context.stop();\n                    }\n                }\n            }, _callee, _this2);\n        })), _this.renderEmpty = function () {\n            return {\n                title: 'Do You Even',\n                subtitle: 'WANT SEARCH RESULTS?',\n                content: (0, _preact.h)(\n                    'div',\n                    null,\n                    (0, _preact.h)(\n                        'div',\n                        { key: 'demo-empty-info', 'class': 'row mt-6 mb-4' },\n                        (0, _preact.h)(\n                            'div',\n                            { 'class': 'col' },\n                            '...because you need to enter a zip code on the first screen to get search results.'\n                        )\n                    ),\n                    ',',\n                    (0, _preact.h)(\n                        'div',\n                        { key: 'demo-empty-action', 'class': 'row mt-7 mb-4' },\n                        (0, _preact.h)(\n                            'div',\n                            { 'class': 'col' },\n                            (0, _preact.h)(\n                                'button',\n                                { onClick: function onClick() {\n                                        (0, _preactRouter.route)('/', true);\n                                    } },\n                                '\\u2190 GO BACK'\n                            )\n                        )\n                    )\n                )\n            };\n        }, _this.renderLoading = function () {\n            return {\n                title: 'Working On It!',\n                subtitle: 'FETCHING YOUR PRIVILEGE',\n                content: (0, _preact.h)(\n                    'div',\n                    { 'class': 'row mt-6' },\n                    (0, _preact.h)(\n                        'div',\n                        { 'class': 'col' },\n                        '@todo'\n                    )\n                )\n            };\n        }, _this.getBarStyle = function (key) {\n            return !_this.state.demographics[key] ? {} : { width: _this.state.demographics[key] + '%' };\n        }, _this.renderDemo = function (key) {\n            return (0, _preact.h)(\n                'li',\n                null,\n                (0, _preact.h)(\n                    'div',\n                    { 'class': 'bar' },\n                    (0, _preact.h)('div', { 'class': 'bar-bg bg-' + key, style: _this.getBarStyle(key) }),\n                    (0, _preact.h)(\n                        'div',\n                        { 'class': 'label' },\n                        (0, _preact.h)(\n                            'b',\n                            null,\n                            key.toUpperCase()\n                        ),\n                        ' ',\n                        _this.state.demographics[key],\n                        '%'\n                    )\n                )\n            );\n        }, _this.beckyIsShocked = function () {\n            return _this.state.demographics && _this.state.demographics.white && parseInt(_this.state.demographics.white, 10) > 50;\n        }, _this.renderContent = function () {\n            return {\n                title: 'Demographics',\n                subtitle: null,\n                content: (0, _preact.h)(\n                    'div',\n                    null,\n                    (0, _preact.h)(\n                        'div',\n                        { 'class': 'row mt-4' },\n                        (0, _preact.h)(\n                            'div',\n                            { 'class': 'col' },\n                            (0, _preact.h)(\n                                'ul',\n                                { 'class': 'demographics' },\n                                _this.renderDemo('white'),\n                                _this.renderDemo('black'),\n                                _this.renderDemo('hispanic'),\n                                _this.renderDemo('island'),\n                                _this.renderDemo('indian'),\n                                _this.renderDemo('asian'),\n                                _this.renderDemo('multi')\n                            )\n                        )\n                    ),\n                    _this.beckyIsShocked() && (0, _preact.h)(\n                        'div',\n                        { 'class': 'row mt-5' },\n                        (0, _preact.h)(\n                            'div',\n                            { 'class': 'col' },\n                            (0, _preact.h)(\n                                'p',\n                                { 'class': 'becky' },\n                                'OH MY GOD BECKY LOOK AT THAT \\xA0',\n                                (0, _preact.h)(\n                                    'i',\n                                    null,\n                                    'privilege!'\n                                )\n                            )\n                        )\n                    )\n                )\n            };\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Demographics, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n\n            if (!this.props.lat || !this.props.lon) this.setState(_extends({}, this.state, { demographics: null }));else if (window.location.href.includes('localhost')) this.setState(_extends({}, this.state, {\n                demographics: {\n                    \"asian\": \"12.6\",\n                    \"black\": \"9.1\",\n                    \"hispanic\": \"25.5\",\n                    \"indian\": \"0.5\",\n                    \"island\": \"0\",\n                    \"multi\": \"3.6\",\n                    \"white\": \"52.1\",\n                    \"pop\": \"1707916\",\n                    \"income\": \"86004\",\n                    \"error\": \"\",\n                    \"density\": \"\",\n                    \"income_change\": \"\",\n                    \"income_block\": \"\",\n                    \"sClient\": \"\",\n                    \"iExit\": 0\n                }\n            }));else this.getDemographics();\n        }\n    }, {\n        key: 'render',\n        value: function render(props, state) {\n\n            var data = state.loading ? this.renderLoading() : state.demographics ? this.renderContent() : this.renderEmpty();\n\n            var title = data.title,\n                subtitle = data.subtitle,\n                content = data.content;\n\n\n            return (0, _preact.h)(\n                'div',\n                { 'class': 'demographics center-h text-center' },\n                (0, _preact.h)(\n                    'div',\n                    { 'class': 'row' },\n                    (0, _preact.h)(\n                        'div',\n                        { 'class': 'col' },\n                        (0, _preact.h)(\n                            'header',\n                            null,\n                            (0, _preact.h)(\n                                'h1',\n                                null,\n                                title\n                            )\n                        ),\n                        subtitle && (0, _preact.h)(\n                            'p',\n                            null,\n                            subtitle\n                        )\n                    )\n                ),\n                content\n            );\n        }\n    }]);\n\n    return Demographics;\n}(_preact.Component);\n\nexports.default = Demographics;\n\n/***/ }),\n\n/***/ \"Uegq\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fetchDemographics = undefined;\n\nvar _fetchOpts = __webpack_require__(\"Hd3W\");\n\nvar _fetchOpts2 = _interopRequireDefault(_fetchOpts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/*\nExample:\nhttp://www.justicemap-api.org/api.php?fLat=12.3456789&fLon=-12.3456789&sGeo=tract&fRadius=5\n*/\n\nvar BASE_URL = 'http://www.justicemap-api.org/api.php';\n\nvar buildUrl = function buildUrl(lat, lon) {\n    return BASE_URL + '?fLat=' + lat + '&fLon=' + lon + '&sGeo=tract&fRadius=5';\n};\n\nvar fetchDemographics = exports.fetchDemographics = function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(lat, lon) {\n        var result, res, url, _res;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        result = {\n                            data: null,\n                            error: false\n                        };\n                        res = null;\n                        url = buildUrl(lat, lon);\n                        _context.prev = 3;\n                        _context.next = 6;\n                        return fetch(url, _fetchOpts2.default);\n\n                    case 6:\n                        _res = _context.sent;\n\n                        if (!(_res.status !== 200)) {\n                            _context.next = 9;\n                            break;\n                        }\n\n                        throw new Error('Server responded with a non-200 status');\n\n                    case 9:\n                        _context.next = 11;\n                        return _res.json();\n\n                    case 11:\n                        result.data = _context.sent;\n                        _context.next = 18;\n                        break;\n\n                    case 14:\n                        _context.prev = 14;\n                        _context.t0 = _context['catch'](3);\n\n\n                        console.error('Failed to fetch demographics', _context.t0);\n                        result.error = _context.t0;\n\n                    case 18:\n                        return _context.abrupt('return', result);\n\n                    case 19:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, undefined, [[3, 14]]);\n    }));\n\n    return function fetchDemographics(_x, _x2) {\n        return _ref.apply(this, arguments);\n    };\n}();\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-demographics.chunk.20158.js","\nconst FETCH_OPTS = {\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    headers: {\n      'user-agent': 'NotSoRare/1.0 Pepe',\n      'content-type': 'application/json'\n    },\n    method: 'GET', // *GET, POST, PUT, DELETE, etc.\n    mode: 'cors', // no-cors, cors, *same-origin\n    redirect: 'follow', // *manual, follow, error\n    referrer: 'no-referrer' // *client, no-referrer\n}\n\nexport { FETCH_OPTS }\nexport default FETCH_OPTS\n\n\n\n// WEBPACK FOOTER //\n// ./services/fetch-opts.js","import { h, Component } from 'preact'\nimport { route } from 'preact-router'\nimport { fetchDemographics } from '../../services/justicemap'\n\nexport default class Demographics extends Component {\n    \n    state = {\n        loading: false,\n        demographics: {}\n    }\n    \n    colors = {\n        white: '#f9f1e9',\n        asian: '#ffdebb',\n        hispanic: '#b08558',\n        indian: '#8b6035',\n        island: '#704920',\n        black: '#0b0702',\n        multi: '#efbbff'\n    }\n    \n    getDemographics = async () => {\n        \n        this.setState({ ...this.state, loading: true })\n        \n        const res = await fetchDemographics(this.props.lat, this.props.lon)\n        const { data, error } = res\n        \n        if (error) {\n            // @todo\n            console.error('Failed to fetch demographics', error)\n            return alert('Error fetching demographics')\n        }\n        \n        this.setState({ ...this.state, loading: false, demographics: data })\n        \n    }\n    \n    renderEmpty = () => ({\n        title: 'Do You Even',\n        subtitle: 'WANT SEARCH RESULTS?',\n        content: (\n            <div>\n                <div key=\"demo-empty-info\" class=\"row mt-6 mb-4\">\n                    <div class=\"col\">\n                        ...because you need to enter a zip code\n                        on the first screen to get search results.\n                    </div>\n                </div>,\n                <div key=\"demo-empty-action\" class=\"row mt-7 mb-4\">\n                    <div class=\"col\">\n                        <button onClick={() => { route('/', true) }}>\n                            &larr; GO BACK\n                        </button>\n                    </div>\n                </div>\n            </div>\n        )\n    })\n    \n    renderLoading = () => ({\n        title: 'Working On It!',\n        subtitle: 'FETCHING YOUR PRIVILEGE',\n        content: (\n            <div class=\"row mt-6\">\n                <div class=\"col\">\n                    @todo\n                </div>\n            </div>\n        )\n    })\n    \n    getBarStyle = key => {\n        return (!this.state.demographics[key])\n            ? {} : { width: `${this.state.demographics[key]}%` }\n    }\n    \n    renderDemo = key => (\n        <li>\n            <div class=\"bar\">\n                <div class={`bar-bg bg-${key}`} style={this.getBarStyle(key)} />\n                <div class=\"label\">\n                    <b>{ key.toUpperCase() }</b> { this.state.demographics[key] }%\n                </div>\n            </div>\n        </li>\n    )\n    \n    beckyIsShocked = () =>\n        this.state.demographics &&\n        this.state.demographics.white &&\n        parseInt(this.state.demographics.white, 10) > 50\n    \n    renderContent = () => ({\n        title: 'Demographics',\n        subtitle: null,\n        content: (\n            <div>\n                <div class=\"row mt-4\">\n                    <div class=\"col\">\n                        <ul class=\"demographics\">\n                            { this.renderDemo('white') }\n                            { this.renderDemo('black') }\n                            { this.renderDemo('hispanic') }\n                            { this.renderDemo('island') }\n                            { this.renderDemo('indian') }\n                            { this.renderDemo('asian') }\n                            { this.renderDemo('multi') }\n                        </ul>\n                    </div>\n                </div>\n                { this.beckyIsShocked() && (\n                    <div class=\"row mt-5\">\n                        <div class=\"col\">\n                            <p class=\"becky\">\n                                OH MY GOD BECKY LOOK AT THAT\n                                &nbsp;<i>privilege!</i>\n                            </p>\n                        </div>\n                    </div>\n                ) }\n            </div>\n        )\n    })\n    \n    componentDidMount() {\n        \n        if (!this.props.lat || !this.props.lon)\n            this.setState({ ...this.state, demographics: null })\n        else if (window.location.href.includes('localhost'))\n            this.setState({\n                ...this.state,\n                demographics: {\n                    \"asian\": \"12.6\",\n                    \"black\": \"9.1\",\n                    \"hispanic\": \"25.5\",\n                    \"indian\": \"0.5\",\n                    \"island\": \"0\",\n                    \"multi\": \"3.6\",\n                    \"white\": \"52.1\",\n                    \"pop\": \"1707916\",\n                    \"income\": \"86004\",\n                    \"error\": \"\",\n                    \"density\": \"\",\n                    \"income_change\": \"\",\n                    \"income_block\": \"\",\n                    \"sClient\": \"\",\n                    \"iExit\": 0\n                }\n            })\n        else\n            this.getDemographics()\n        \n    }\n    \n    render(props, state) {\n        \n        const data = state.loading\n            ? this.renderLoading()\n            : state.demographics\n                ? this.renderContent()\n                : this.renderEmpty()\n        \n        const { title, subtitle, content } = data\n        \n        return (\n            <div class=\"demographics center-h text-center\">\n                \n                <div class=\"row\">\n                    <div class=\"col\">\n                        <header>\n                            <h1>{ title }</h1>\n                        </header>\n                        { subtitle && <p>{ subtitle }</p> }\n                    </div>\n                </div>\n                \n                { content }\n                \n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./routes/demographics/index.js","import FETCH_OPTS from './fetch-opts'\n\n/*\nExample:\nhttp://www.justicemap-api.org/api.php?fLat=12.3456789&fLon=-12.3456789&sGeo=tract&fRadius=5\n*/\n\nconst BASE_URL = 'http://www.justicemap-api.org/api.php'\n\nconst buildUrl = (lat, lon) => `${BASE_URL}?fLat=${lat}&fLon=${lon}&sGeo=tract&fRadius=5`\n\nexport const fetchDemographics = async (lat, lon) => {\n    \n    const result = {\n        data: null,\n        error: false\n    }\n    \n    let res = null\n    const url = buildUrl(lat, lon)\n    \n    try {\n        \n        const res = await fetch(url, FETCH_OPTS)\n        \n        if (res.status !== 200)\n            throw new Error('Server responded with a non-200 status')\n        \n        result.data = await res.json()\n        \n    }\n    catch (e) {\n        \n        console.error('Failed to fetch demographics', e)\n        result.error = e\n        \n    }\n    \n    return result\n    \n}\n\n\n\n// WEBPACK FOOTER //\n// ./services/justicemap.js"],"sourceRoot":""}